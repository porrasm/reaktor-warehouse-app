(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{172:function(e,t,r){"use strict";r.r(t);var n=r(6),a=r(0),c=r.n(a),s=r(52),u=r.n(s),i=r(28),o=r(14),l=r.n(o),p=r(27),d=r(101),f=r(185),j=r(194),g=r(195),b=r(186),h=r(192),x=r(127),O=r.n(x),v=0,m=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(k(["products","categories"]));case 2:return t=e.sent,e.abrupt("return",t||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(k(["products","manufacturers"]),6,{category:t});case 2:return r=e.sent,e.abrupt("return",r||[]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(l.a.mark((function e(t,r,n,a){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={category:t,page:n,filter:a,manufacturer:r,pageItemCount:100},e.next=3,C(k(["products"]),6,c);case 3:return s=e.sent,e.abrupt("return",s||[]);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,n,a,c,s,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.length>1&&void 0!==u[1]?u[1]:6,n=u.length>2&&void 0!==u[2]?u[2]:{},a=++v,c=0;case 4:if(!(c<r)){e.next=22;break}if(a===v){e.next=7;break}return e.abrupt("break",22);case 7:return e.prev=7,e.next=10,O.a.get(t,{params:n});case 10:if(200==(s=e.sent).status){e.next=13;break}throw"Invalid response status received: "+s.status;case 13:return e.abrupt("return",s.data);case 16:e.prev=16,e.t0=e.catch(7),console.log("Error fetching JSON from API: ",e.t0.message,e.t0);case 19:c++,e.next=4;break;case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return"/api/"+e.join("/")},P={getCategories:m,getManufacturers:y,getProducts:w},M=r(189),I=r(191),S=function(e){var t=e.product;return Object(n.jsx)(M.a,{children:Object(n.jsxs)(M.a.Content,{children:[Object(n.jsx)(M.a.Header,{children:t.name}),Object(n.jsxs)(M.a.Description,{children:["Availability: ",t.availability]}),Object(n.jsxs)(M.a.Description,{children:["Price: ",t.price]}),Object(n.jsxs)(M.a.Description,{children:["Manufacturer: ",t.manufacturer]}),Object(n.jsxs)(M.a.Description,{children:["Color: ",t.color.join(", ")]}),Object(n.jsxs)(M.a.Description,{children:["Type: ",t.type]}),Object(n.jsxs)(M.a.Description,{children:["ID: ",t.id]})]})})},D=function(e){var t=e.products,r=e.clickHandler;return Object(n.jsx)(I.a,{divided:!0,children:t.map((function(e){return Object(n.jsx)(I.a.Item,{onClick:function(){return r(e)},children:Object(n.jsxs)(I.a.Content,{children:[Object(n.jsx)(I.a.Header,{as:"a",children:e.name}),Object(n.jsxs)(I.a.Description,{children:["Availability: ",e.availability]}),Object(n.jsxs)(I.a.Description,{children:["Price: ",e.price]})]})},e.id)}))})},A=r(184),E=r(173),H=r(188),J=r(37),N=r(187),F=function(e){return Object(n.jsx)(N.a,{placeholder:e.placeholder,fluid:!0,selection:!0,value:e.value,onChange:function(t,r){return e.onChange(r.value)},options:e.options.map((function(e){return{key:e,text:(t=e,t.substring(0,1).toUpperCase()+t.substring(1)),value:e};var t}))})},L=function(e){var t=Object(a.useState)(""),r=Object(d.a)(t,2),c=r[0],s=r[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(F,{placeholder:"Select category",value:e.currentCategory,onChange:e.selectCategory,options:e.categories}),Object(n.jsx)(F,{placeholder:"Select manufacturer",value:e.currentManufacturer,onChange:e.selectManufacturer,options:e.manufacturers}),"\xa0",Object(n.jsxs)(A.a,{icon:"search",style:{width:"272px"},onChange:function(e,t){return s(t.value)},children:[Object(n.jsx)("input",{}),Object(n.jsx)(E.a,{type:"submit",onClick:function(){return e.updateFilter(c)},children:"Search"})]}),"\xa0",e.pageCount>0?Object(n.jsx)(H.a,{style:{width:"272px"},boundaryRange:0,ellipsisItem:null,firstItem:null,lastItem:null,siblingRange:1,totalPages:e.pageCount,activePage:e.page,onPageChange:function(t,r){return e.selectPage(Number(r.activePage))}}):"","\xa0",0==e.loadingMessage.length?"":Object(n.jsxs)(h.a,{icon:!0,children:[Object(n.jsx)(J.a,{name:"circle notched",loading:!0}),Object(n.jsx)(h.a.Content,{children:e.loadingMessage})]})]})},R=function(){var e=c.a.useState({categories:null,loadingMessage:"",category:"",manufacturer:"",manufacturers:[],products:[],selectedProduct:null,page:1,filter:""}),t=Object(d.a)(e,2),r=t[0],s=t[1];Object(a.useEffect)((function(){r.categories||u()}));var u=function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getCategories();case 2:r.categories=e.sent,s(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Enabled manufacturer: ",t),O({manufacturer:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(i.a)(Object(i.a)({},r),{},{category:t,loadingMessage:"Loading manufacturers..."})),console.log("Enabled category: ",t),e.next=4,P.getManufacturers(t);case 4:if(n=e.sent,s(Object(i.a)(Object(i.a)({},r),{},{manufacturers:n})),0!=n.length){e.next=9;break}return window.alert("There seems to be an error accessing the API. Please try again."),e.abrupt("return");case 9:O({category:t,manufacturer:n[0]});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,c,u,o,p,d,f,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.category,a=void 0===n?r.category:n,c=t.manufacturer,u=void 0===c?r.manufacturer:c,o=t.page,p=void 0===o?1:o,d=t.filter,f=void 0===d?"":d,console.log("Update products with page: ",p),s(Object(i.a)(Object(i.a)({},r),{},{loadingMessage:"Loading products...",products:[]})),e.next=5,P.getProducts(a,u,p,f);case 5:j=e.sent,s(Object(i.a)(Object(i.a)({},r),{},{products:j,loadingMessage:"",category:a,manufacturer:u,page:p,filter:f}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Selected product: ",t),s(Object(i.a)(Object(i.a)({},r),{},{selectedProduct:t}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsx)(f.a,{children:Object(n.jsx)(j.a,{centered:!0,columns:3,children:Object(n.jsx)(j.a.Column,{children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(D,{products:r.products,clickHandler:v}),Object(n.jsx)(b.a,{position:"left",children:Object(n.jsx)(L,{currentCategory:r.category,categories:r.categories?r.categories:[],selectCategory:x,currentManufacturer:r.manufacturer,manufacturers:r.manufacturers,selectManufacturer:o,updateFilter:function(e){O({page:1,filter:e})},page:r.page,pageCount:1e5,selectPage:function(e){console.log("Select page: ",e),O({page:e,filter:r.filter})},loadingMessage:r.loadingMessage})}),Object(n.jsx)(b.a,{position:"right",children:r.selectedProduct?Object(n.jsx)(S,{product:r.selectedProduct}):Object(n.jsx)(h.a,{children:Object(n.jsx)(h.a.Content,{children:"Select a product for more information"})})})]})})})})})};var T=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(R,{})})};r(171);u.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(T,{})}),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.4ad74ab4.chunk.js.map